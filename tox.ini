[tox]
skipsdist = true
envlist = py39, codestyle

[testenv]
deps =
    poetry
commands =
    poetry install -v --extras "test"
    poetry show
    poetry run pytest

[testenv:codestyle]
skip_install = true
description = Run all style and file checks with pre-commit
deps =
    pre-commit
commands =
    pre-commit install-hooks
    pre-commit run {posargs:--color always --all-files --show-diff-on-failure}
